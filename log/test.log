  [1m[35m (54.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (34.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (12.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (138.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$jJnvQeYQWlSv2AtBAIscWORnATLullz6wW2dFHQGqexCxeYbQarQa"], ["created_at", "2020-07-31 14:15:49.015606"], ["updated_at", "2020-07-31 14:15:49.015606"], ["name", "test"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:49 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.7ms | Allocations: 597)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 170.9ms | Allocations: 9237)
Completed 200 OK in 4695ms (Views: 4668.0ms | ActiveRecord: 0.0ms | Allocations: 46308)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 91ms (ActiveRecord: 1.1ms | Allocations: 2446)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:54 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Create (119.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 1], ["confirmed", true], ["created_at", "2020-07-31 14:15:54.283066"], ["updated_at", "2020-07-31 14:15:54.283066"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (50.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 1], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 83.7ms | Allocations: 897)
Completed 200 OK in 318ms (Views: 39.5ms | ActiveRecord: 179.2ms | Allocations: 18270)
Started POST "/posts" for 127.0.0.1 at 2020-07-31 17:15:54 +0300
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "post"=>{"content"=>"This is a test post"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (5.3ms)[0m  [1m[32mINSERT INTO "posts" ("user_id", "content", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["content", "This is a test post"], ["created_at", "2020-07-31 14:15:54.523178"], ["updated_at", "2020-07-31 14:15:54.523178"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 12ms (ActiveRecord: 6.1ms | Allocations: 1628)
Started GET "/posts" for 127.0.0.1 at 2020-07-31 17:15:54 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["friend_id", 1], ["confirmed", true], ["created_at", "2020-07-31 14:15:54.543436"], ["updated_at", "2020-07-31 14:15:54.543436"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 1], ["confirmed", true]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (20.8ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND "likes"."user_id" = $2 LIMIT $3[0m  [["post_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mComment Load (39.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 116.2ms | Allocations: 6369)
  Rendered posts/index.html.erb within layouts/application (Duration: 120.1ms | Allocations: 7099)
Completed 200 OK in 136ms (Views: 51.7ms | ActiveRecord: 73.0ms | Allocations: 10578)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 155)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 967)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 2770)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$hxlHpYbkQvZfAg2SU2z0X.9N6joEBQ1EKI/cdVbYJQkYBElHYKvve"], ["created_at", "2020-07-31 14:15:55.067664"], ["updated_at", "2020-07-31 14:15:55.067664"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$koNJkTtLvkvFUzcXXhLyUuomMHJ5pf/9cQfA0aRkWhcajV6lvj1o6"], ["created_at", "2020-07-31 14:15:55.075044"], ["updated_at", "2020-07-31 14:15:55.075044"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 885)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.115453"], ["updated_at", "2020-07-31 14:15:55.115453"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 520)
Completed 200 OK in 18ms (Views: 6.3ms | ActiveRecord: 3.1ms | Allocations: 3998)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2020)
Completed 200 OK in 21ms (Views: 14.3ms | ActiveRecord: 2.9ms | Allocations: 4417)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:15:55.185858"], ["updated_at", "2020-07-31 14:15:55.185858"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 11ms (ActiveRecord: 2.7ms | Allocations: 1677)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 18.6ms | Allocations: 3615)
Completed 200 OK in 28ms (Views: 19.2ms | ActiveRecord: 3.7ms | Allocations: 6070)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$NbONZhKoX3ClO5BTfnALqO0zajaJZWrOYumg28xZn2lXImMH8WZp."], ["created_at", "2020-07-31 14:15:55.235775"], ["updated_at", "2020-07-31 14:15:55.235775"], ["name", "John"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$Y5AVmN6doDKVXK72BSDHB.b6Z7NNVZt6x3wnx3T/AP1z7wBxPsnju"], ["created_at", "2020-07-31 14:15:55.243609"], ["updated_at", "2020-07-31 14:15:55.243609"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 967)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 2610)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.283615"], ["updated_at", "2020-07-31 14:15:55.283615"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 526)
Completed 200 OK in 16ms (Views: 5.3ms | ActiveRecord: 2.4ms | Allocations: 4017)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1675)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 2.8ms | Allocations: 3549)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 14.7ms | Allocations: 3110)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 3.7ms | Allocations: 5273)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$WYhinxe6V/3SrpgYMbx52OGvcvvJ1DtOxt99TY3awCSD2yAxD3wYi"], ["created_at", "2020-07-31 14:15:55.351904"], ["updated_at", "2020-07-31 14:15:55.351904"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$SXXhb0/tHo1TOm4J.nvoz.5bMNYfCInn3ZZWSX1p/Y1Hk8zfyLQ7q"], ["created_at", "2020-07-31 14:15:55.360413"], ["updated_at", "2020-07-31 14:15:55.360413"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 2591)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.399607"], ["updated_at", "2020-07-31 14:15:55.399607"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 518)
Completed 200 OK in 16ms (Views: 5.6ms | ActiveRecord: 2.6ms | Allocations: 3999)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1674)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 2.8ms | Allocations: 3546)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:15:55.439006"], ["updated_at", "2020-07-31 14:15:55.439006"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 9ms (ActiveRecord: 1.6ms | Allocations: 1452)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 16.5ms | Allocations: 3110)
Completed 200 OK in 25ms (Views: 16.5ms | ActiveRecord: 4.1ms | Allocations: 5301)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  Rendered users/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2574)
Completed 200 OK in 19ms (Views: 13.3ms | ActiveRecord: 3.5ms | Allocations: 4443)
Started GET "/friendships/destroy?friendship_id=100" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"100"}
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 6ms (ActiveRecord: 1.2ms | Allocations: 975)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3110)
Completed 200 OK in 22ms (Views: 15.1ms | ActiveRecord: 3.6ms | Allocations: 5301)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$8s/2V4yKB.VZvNMWJiNqXu/RAvu2jcc4iwHeVKuty4orC186i2UUu"], ["created_at", "2020-07-31 14:15:55.543966"], ["updated_at", "2020-07-31 14:15:55.543966"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$AT/M0Cc0MQI05tiLGyOjdukP4DNIH/rXpOplI3ru41A4nzBBB1GTG"], ["created_at", "2020-07-31 14:15:55.551487"], ["updated_at", "2020-07-31 14:15:55.551487"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:15:55.557348"], ["updated_at", "2020-07-31 14:15:55.557348"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 888)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.604745"], ["updated_at", "2020-07-31 14:15:55.604745"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 518)
Completed 200 OK in 16ms (Views: 6.0ms | ActiveRecord: 2.4ms | Allocations: 4000)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3354)
Completed 200 OK in 27ms (Views: 17.8ms | ActiveRecord: 4.7ms | Allocations: 5512)
Started GET "/friendships/update?friendship_id=101" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"101"}
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:15:55.662138"], ["id", 101]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 14ms (ActiveRecord: 2.6ms | Allocations: 1647)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 32.8ms | Allocations: 3644)
Completed 200 OK in 41ms (Views: 27.9ms | ActiveRecord: 8.5ms | Allocations: 5847)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$I5Zp5hip0hKW/0PIyLyPf.Ki448FdRSJHDyUHGaPuXKcrRwZJ/xtK"], ["created_at", "2020-07-31 14:15:55.725657"], ["updated_at", "2020-07-31 14:15:55.725657"], ["name", "John"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$G.EJPMEnlEHrtbkRsvM/s.SedZRBRdhVP0WQOqKZVMtgMHbNCWDwu"], ["created_at", "2020-07-31 14:15:55.735482"], ["updated_at", "2020-07-31 14:15:55.735482"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:15:55.742261"], ["updated_at", "2020-07-31 14:15:55.742261"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.781014"], ["updated_at", "2020-07-31 14:15:55.781014"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 518)
Completed 200 OK in 19ms (Views: 6.9ms | ActiveRecord: 2.9ms | Allocations: 3987)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 16.4ms | Allocations: 3351)
Completed 200 OK in 24ms (Views: 16.5ms | ActiveRecord: 3.8ms | Allocations: 5518)
Started GET "/friendships/update?friendship_id=103" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"103"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:15:55.834936"], ["id", 103]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 12ms (ActiveRecord: 2.8ms | Allocations: 1602)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 21.0ms | Allocations: 3644)
Completed 200 OK in 28ms (Views: 20.7ms | ActiveRecord: 4.3ms | Allocations: 5839)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$qVG3s.KVZ/fkZBBJFmaHeegMJPpgfllxPPj50KYyAglMusbH/ZM1q"], ["created_at", "2020-07-31 14:15:55.885012"], ["updated_at", "2020-07-31 14:15:55.885012"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$Im/dut4fJHwbleFylOi3Vu2eunWYGcshdx7ZhRoZLsBTO8dPOlAMi"], ["created_at", "2020-07-31 14:15:55.893280"], ["updated_at", "2020-07-31 14:15:55.893280"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:15:55.899706"], ["updated_at", "2020-07-31 14:15:55.899706"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:15:55.935537"], ["updated_at", "2020-07-31 14:15:55.935537"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 518)
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 2.3ms | Allocations: 3995)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3351)
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 3.4ms | Allocations: 5512)
Started GET "/friendships/update?friendship_id=105" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"105"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:15:55.985495"], ["id", 105]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 11ms (ActiveRecord: 2.3ms | Allocations: 1602)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:15:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3644)
Completed 200 OK in 27ms (Views: 18.6ms | ActiveRecord: 3.9ms | Allocations: 5856)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 481ms (ActiveRecord: 0.3ms | Allocations: 1625)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 276)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 2743)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2701)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 978)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:15:56.556862"], ["updated_at", "2020-07-31 14:15:56.556862"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 518)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 2.6ms | Allocations: 3996)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3649)
Completed 200 OK in 25ms (Views: 17.3ms | ActiveRecord: 3.4ms | Allocations: 5820)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$5Y.6crskqGJluot7IP.4seVrFrWThZue7dLWeothgWf77t5GBQ9O."], ["created_at", "2020-07-31 14:15:56.610631"], ["updated_at", "2020-07-31 14:15:56.610631"], ["name", "newlog"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 259)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 964)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 2589)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$sXJ1WTb4JfphQbBt.DBakeqOGMVscYCMKTTw6MZeTiurb7pFSodFK"], ["created_at", "2020-07-31 14:15:56.663313"], ["updated_at", "2020-07-31 14:15:56.663313"], ["name", "newlog"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 2596)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 886)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["friend_id", 3], ["confirmed", true], ["created_at", "2020-07-31 14:15:56.702099"], ["updated_at", "2020-07-31 14:15:56.702099"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 3], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 518)
Completed 200 OK in 15ms (Views: 4.6ms | ActiveRecord: 2.4ms | Allocations: 3993)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$8GfYX.xNiK/r2FFFbo0VSeg4TjHr/9s3podObm39.pvsiAGdIn.2u"], ["created_at", "2020-07-31 14:15:56.723625"], ["updated_at", "2020-07-31 14:15:56.723625"], ["name", "newlog"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 2596)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 260)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 963)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2530)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:15:56 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 199)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 119)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 217.3ms | Allocations: 1969)
Completed 200 OK in 224ms (Views: 221.4ms | ActiveRecord: 0.0ms | Allocations: 4129)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"username1", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "username1@test.com"], ["encrypted_password", "$2a$04$isNS6J4CB4tgbuIZ/Y6sn.riKwgBn0hUF0yvhm0kf1S3r35TzCsvG"], ["created_at", "2020-07-31 14:15:57.465533"], ["updated_at", "2020-07-31 14:15:57.465533"], ["name", "username1"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 122ms (ActiveRecord: 1.6ms | Allocations: 1691)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["friend_id", 5], ["confirmed", true], ["created_at", "2020-07-31 14:15:57.592499"], ["updated_at", "2020-07-31 14:15:57.592499"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 5], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 526)
Completed 200 OK in 18ms (Views: 5.7ms | ActiveRecord: 3.1ms | Allocations: 4012)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1147)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 2732)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"username1", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.7ms | Allocations: 238)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1381)
Completed 200 OK in 17ms (Views: 7.9ms | ActiveRecord: 0.9ms | Allocations: 4320)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1143)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 2733)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 206)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1347)
Completed 200 OK in 15ms (Views: 6.9ms | ActiveRecord: 0.8ms | Allocations: 4175)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1143)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 2729)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"userme", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 206)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1347)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 3902)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1143)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 2728)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:15:57 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"users021", "email"=>"username12@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username12@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.2ms | Allocations: 354)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1499)
Completed 200 OK in 19ms (Views: 10.3ms | ActiveRecord: 1.2ms | Allocations: 4623)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$I4pL9n8fcwnGe45j2Vr7G.OT.SVtQUFVoeyJxIEEEGf3WCdJ6tDz6"], ["created_at", "2020-07-31 14:15:57.831360"], ["updated_at", "2020-07-31 14:15:57.831360"], ["name", "test"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$FaeVOk.KF60BbNbD4C9YVODOwWrcwWuu97/0wivEAn6ObUjbuHYS6"], ["created_at", "2020-07-31 14:15:57.849844"], ["updated_at", "2020-07-31 14:15:57.849844"], ["name", "test"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$u7ZH9TaN08elLnn168NCDuxAembQCEew99ncX.tpUHaDPNjOlZyEO"], ["created_at", "2020-07-31 14:15:57.868242"], ["updated_at", "2020-07-31 14:15:57.868242"], ["name", "test"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$L0p.jJnCk2Za.YvsfcHmgeZ1amkEGyZ9qHyyc1aBv.9pwKlpqDMVC"], ["created_at", "2020-07-31 14:15:57.887216"], ["updated_at", "2020-07-31 14:15:57.887216"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$Q1YYKTCMMOiZ9VxAHFkO/.0agksOlAavkYAQiuDGsDgcCKca3mjaC"], ["created_at", "2020-07-31 14:15:57.943064"], ["updated_at", "2020-07-31 14:15:57.943064"], ["name", "tester"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."post_id" IS NULL LIMIT $2[0m  [["user_id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$qxfQt5zsqSIEtT6I7DUnAeVXOwcW7RMwlwc3TlfTuEwpuPOzyO5.W"], ["created_at", "2020-07-31 14:15:57.973727"], ["updated_at", "2020-07-31 14:15:57.973727"], ["name", "tester"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$fk3Af50Itm6mR6hbI.LNBeMjf81lptUTWQRn0EfbwsZ6283s.Ve26"], ["created_at", "2020-07-31 14:15:57.992818"], ["updated_at", "2020-07-31 14:15:57.992818"], ["name", "tester"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."post_id" IS NULL LIMIT $2[0m  [["user_id", 12], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$8ILyqya9avhRtRRCcCU2XehgWJmT.Ck1kTmTeguE7WJqyHuItngPu"], ["created_at", "2020-07-31 14:15:58.027549"], ["updated_at", "2020-07-31 14:15:58.027549"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$rpgZSO/SrJy0kU0BuS5mKe4EYJFYJKB2tECsDX/9rGseHc/MvZE6u"], ["created_at", "2020-07-31 14:15:58.040356"], ["updated_at", "2020-07-31 14:15:58.040356"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$DjfphRIM7gbsgYhvIznZkeBIYEEGuVzB0ZLZ/y6NSWOkZG4NZ7T3m"], ["created_at", "2020-07-31 14:18:49.440631"], ["updated_at", "2020-07-31 14:18:49.440631"], ["name", "test"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:49 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 22.3ms | Allocations: 601)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 78.1ms | Allocations: 5705)
Completed 200 OK in 330ms (Views: 319.2ms | ActiveRecord: 0.0ms | Allocations: 23842)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms | Allocations: 2005)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:49 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mFriendship Create (1.2ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 15], ["friend_id", 15], ["confirmed", true], ["created_at", "2020-07-31 14:18:49.877999"], ["updated_at", "2020-07-31 14:18:49.877999"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (19.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 15], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 897)
Completed 200 OK in 90ms (Views: 11.2ms | ActiveRecord: 32.4ms | Allocations: 14618)
Started POST "/posts" for 127.0.0.1 at 2020-07-31 17:18:49 +0300
Processing by PostsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "post"=>{"content"=>"This is a test post"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("user_id", "content", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 15], ["content", "This is a test post"], ["created_at", "2020-07-31 14:18:49.931134"], ["updated_at", "2020-07-31 14:18:49.931134"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1624)
Started GET "/posts" for 127.0.0.1 at 2020-07-31 17:18:49 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 15], ["friend_id", 15], ["confirmed", true], ["created_at", "2020-07-31 14:18:49.944900"], ["updated_at", "2020-07-31 14:18:49.944900"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 15], ["confirmed", true]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1 AND "likes"."user_id" = $2 LIMIT $3[0m  [["post_id", 2], ["user_id", 15], ["LIMIT", 1]]
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  Rendered collection of posts/_post.html.erb [1 times] (Duration: 36.0ms | Allocations: 6369)
  Rendered posts/index.html.erb within layouts/application (Duration: 40.8ms | Allocations: 7099)
Completed 200 OK in 54ms (Views: 32.8ms | ActiveRecord: 13.0ms | Allocations: 10586)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 155)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 967)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 2755)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$pWw4E.Xbz6DeFS.sdAtAsOjmqhrBi/EFoNLcy6q1.cDaT7t/E3Cwi"], ["created_at", "2020-07-31 14:18:50.063945"], ["updated_at", "2020-07-31 14:18:50.063945"], ["name", "John"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$eeFLoDzfxeQtGn6/EXEUAeuvAiWAlFgOjhDqbqCEOmMgM2BmnCIfS"], ["created_at", "2020-07-31 14:18:50.072605"], ["updated_at", "2020-07-31 14:18:50.072605"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:18:50.114605"], ["updated_at", "2020-07-31 14:18:50.114605"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 520)
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 2.9ms | Allocations: 3988)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 2018)
Completed 200 OK in 38ms (Views: 32.1ms | ActiveRecord: 3.0ms | Allocations: 4417)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:18:50.184654"], ["updated_at", "2020-07-31 14:18:50.184654"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 1682)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 19.9ms | Allocations: 3618)
Completed 200 OK in 29ms (Views: 20.3ms | ActiveRecord: 3.9ms | Allocations: 6089)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$Eu12BgwB1s7RjOkCU8ffueV3u2SlvaOIEfKKJ493lZb7PtPWrOJSW"], ["created_at", "2020-07-31 14:18:50.235055"], ["updated_at", "2020-07-31 14:18:50.235055"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$7G7Dsvb9Sah/WrSCnwUnJuX9IsXW0ZaxQo44KKEhPa711NInmzxk."], ["created_at", "2020-07-31 14:18:50.242754"], ["updated_at", "2020-07-31 14:18:50.242754"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 967)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 2610)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 886)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.9ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:18:50.279675"], ["updated_at", "2020-07-31 14:18:50.279675"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 526)
Completed 200 OK in 15ms (Views: 5.0ms | ActiveRecord: 2.8ms | Allocations: 4019)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 1675)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 3.1ms | Allocations: 3536)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 19.3ms | Allocations: 3110)
Completed 200 OK in 29ms (Views: 18.2ms | ActiveRecord: 5.2ms | Allocations: 5269)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$EWQihvURbQ4OmO6VGBvneOrCWYrsG8.KcZIqXPiO/vPyFe3ojaF0a"], ["created_at", "2020-07-31 14:18:50.361337"], ["updated_at", "2020-07-31 14:18:50.361337"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$0M/62TwrzbOftwPlJAINPeNeZKlzc19GDyKWKdqJSdkPD1/5/bMIS"], ["created_at", "2020-07-31 14:18:50.369365"], ["updated_at", "2020-07-31 14:18:50.369365"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 2592)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:18:50.408686"], ["updated_at", "2020-07-31 14:18:50.408686"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 518)
Completed 200 OK in 18ms (Views: 7.7ms | ActiveRecord: 2.7ms | Allocations: 3997)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1674)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 2.8ms | Allocations: 3538)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:18:50.455227"], ["updated_at", "2020-07-31 14:18:50.455227"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 11ms (ActiveRecord: 1.8ms | Allocations: 1458)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3110)
Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 3.7ms | Allocations: 5303)
Started GET "/users" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  Rendered users/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2574)
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 3.6ms | Allocations: 4434)
Started GET "/friendships/destroy?friendship_id=116" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"116"}
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.4ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 116]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 971)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 20.6ms | Allocations: 3110)
Completed 200 OK in 31ms (Views: 22.2ms | ActiveRecord: 3.6ms | Allocations: 5313)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$gy2oMPYhu8KehsAKpHI25.S1iXiMyWFS1uIg77l5.RnDXL8KfbKkC"], ["created_at", "2020-07-31 14:18:50.583928"], ["updated_at", "2020-07-31 14:18:50.583928"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$K67b078ig9BM4rohWlyw5ui4.2hnLNS0DZXTdcY83MOR7MHUI6v8K"], ["created_at", "2020-07-31 14:18:50.591923"], ["updated_at", "2020-07-31 14:18:50.591923"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:18:50.599262"], ["updated_at", "2020-07-31 14:18:50.599262"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 959)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:18:50.648335"], ["updated_at", "2020-07-31 14:18:50.648335"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 518)
Completed 200 OK in 20ms (Views: 7.1ms | ActiveRecord: 2.7ms | Allocations: 3993)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 20.1ms | Allocations: 3354)
Completed 200 OK in 29ms (Views: 20.2ms | ActiveRecord: 4.0ms | Allocations: 5519)
Started GET "/friendships/update?friendship_id=117" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"117"}
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:18:50.717348"], ["id", 117]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 16ms (ActiveRecord: 3.0ms | Allocations: 1646)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 25.7ms | Allocations: 3644)
Completed 200 OK in 37ms (Views: 27.3ms | ActiveRecord: 4.5ms | Allocations: 5841)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$55wkBAdIdmPfI026f03iQ.zzfawTRLRnDwx5rdwi4tZp7rITemYlu"], ["created_at", "2020-07-31 14:18:50.778657"], ["updated_at", "2020-07-31 14:18:50.778657"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$H7aksxswp5gOEY/24dvaZOW9LFLmIii1KVgliHPJFLZhj5BpQvakq"], ["created_at", "2020-07-31 14:18:50.787328"], ["updated_at", "2020-07-31 14:18:50.787328"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:18:50.792802"], ["updated_at", "2020-07-31 14:18:50.792802"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 28.1ms | Allocations: 959)
Completed 200 OK in 33ms (Views: 31.0ms | ActiveRecord: 0.0ms | Allocations: 2596)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 887)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:18:50.853771"], ["updated_at", "2020-07-31 14:18:50.853771"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 518)
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 2.4ms | Allocations: 3997)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3351)
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 3.5ms | Allocations: 5512)
Started GET "/friendships/update?friendship_id=119" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"119"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:18:50.905873"], ["id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 11ms (ActiveRecord: 2.2ms | Allocations: 1608)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 28.4ms | Allocations: 3644)
Completed 200 OK in 37ms (Views: 27.6ms | ActiveRecord: 4.9ms | Allocations: 5859)
Started GET "/friendships/destroy?friendship_id=120" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"120"}
  [1m[36mFriendship Load (0.7ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.5ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 120]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/users/675
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 837)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2809)
Completed 200 OK in 22ms (Views: 15.1ms | ActiveRecord: 3.1ms | Allocations: 5020)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$A8hHkXF2tqfwybrwb1SHyuzEjBUaqU2gtP/X2uR3rIG4R.Gku9pUW"], ["created_at", "2020-07-31 14:18:51.006976"], ["updated_at", "2020-07-31 14:18:51.006976"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$YrYeKX9sa65YGMuK1DiixOAOsaeLX6AH3RpuZwm/8ECsFRVMtpXQW"], ["created_at", "2020-07-31 14:18:51.014938"], ["updated_at", "2020-07-31 14:18:51.014938"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 14:18:51.021077"], ["updated_at", "2020-07-31 14:18:51.021077"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["created_at", "2020-07-31 14:18:51.060625"], ["updated_at", "2020-07-31 14:18:51.060625"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 518)
Completed 200 OK in 17ms (Views: 5.9ms | ActiveRecord: 2.4ms | Allocations: 3999)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3351)
Completed 200 OK in 25ms (Views: 17.4ms | ActiveRecord: 3.4ms | Allocations: 5518)
Started GET "/friendships/update?friendship_id=121" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"121"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.7ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 14:18:51.116328"], ["id", 121]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/675
Completed 302 Found in 10ms (ActiveRecord: 2.3ms | Allocations: 1604)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.1ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 675], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.5ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 28.3ms | Allocations: 3644)
Completed 200 OK in 38ms (Views: 26.4ms | ActiveRecord: 6.9ms | Allocations: 5849)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1484)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 290)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 2731)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 2697)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 974)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 14:18:51.229022"], ["updated_at", "2020-07-31 14:18:51.229022"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 518)
Completed 200 OK in 15ms (Views: 4.7ms | ActiveRecord: 2.4ms | Allocations: 4001)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (1.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Load (0.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 20.0ms | Allocations: 3649)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 5.1ms | Allocations: 5818)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$OR92uItiMooFTkqHzXgtM.81NMmx.doycMoXapsnpR61lY3rRU94i"], ["created_at", "2020-07-31 14:18:51.285605"], ["updated_at", "2020-07-31 14:18:51.285605"], ["name", "newlog"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 259)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 964)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 2581)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$urQScv7MZ24Lt70C45GOJ.UXYHWq22GiW3FVMips/V9Ff10Dg.3Hq"], ["created_at", "2020-07-31 14:18:51.330755"], ["updated_at", "2020-07-31 14:18:51.330755"], ["name", "newlog"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 2590)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 17], ["friend_id", 17], ["confirmed", true], ["created_at", "2020-07-31 14:18:51.374185"], ["updated_at", "2020-07-31 14:18:51.374185"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 17], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 518)
Completed 200 OK in 21ms (Views: 4.8ms | ActiveRecord: 2.6ms | Allocations: 4004)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@site.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@site.com"], ["encrypted_password", "$2a$04$HQXlNylZqHEVUPBfE06b8eKwBlKUinK0hlZBugf076A4tbpkfvV5q"], ["created_at", "2020-07-31 14:18:51.396059"], ["updated_at", "2020-07-31 14:18:51.396059"], ["name", "newlog"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2593)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 260)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"user@site.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 963)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 2535)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.3ms | Allocations: 199)
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 119)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1969)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 4129)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"username1", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "username1@test.com"], ["encrypted_password", "$2a$04$ffq.3T4tIIRcUzhNL5.5hOXIGyV4H1jExIknYZij1fNC8iy5QqMSG"], ["created_at", "2020-07-31 14:18:51.483538"], ["updated_at", "2020-07-31 14:18:51.483538"], ["name", "username1"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms | Allocations: 1693)
Started GET "/" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 19], ["friend_id", 19], ["confirmed", true], ["created_at", "2020-07-31 14:18:51.496870"], ["updated_at", "2020-07-31 14:18:51.496870"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 19], ["confirmed", true]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 526)
Completed 200 OK in 15ms (Views: 5.5ms | ActiveRecord: 2.4ms | Allocations: 4014)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1147)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 2732)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"username1", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 238)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1381)
Completed 200 OK in 15ms (Views: 6.6ms | ActiveRecord: 1.0ms | Allocations: 4320)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1143)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 2729)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"", "email"=>"username1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1347)
Completed 200 OK in 17ms (Views: 7.3ms | ActiveRecord: 1.1ms | Allocations: 4179)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1143)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 2728)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"userme", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 206)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1347)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 3902)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1143)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 2728)
Started POST "/users" for 127.0.0.1 at 2020-07-31 17:18:51 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"name"=>"users021", "email"=>"username12@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "username12@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 354)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1499)
Completed 200 OK in 14ms (Views: 7.9ms | ActiveRecord: 0.7ms | Allocations: 4624)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$mSEMiaK.czcmeVuA5BVc9eKJv42K9fcjdlT2pwERHLYafpR1G3niq"], ["created_at", "2020-07-31 14:18:51.707149"], ["updated_at", "2020-07-31 14:18:51.707149"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$O2HI3t63Y5s4gQo6uS2iW.2R2vGggMuIc0LLWZ.Gyqo8dc2IDJSP."], ["created_at", "2020-07-31 14:18:51.721078"], ["updated_at", "2020-07-31 14:18:51.721078"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$wwpES60v8mcaczAZH4h3o.cX7Bw./iPVd0dNahYaig1Ndc3biN8c2"], ["created_at", "2020-07-31 14:18:51.737147"], ["updated_at", "2020-07-31 14:18:51.737147"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$CJ5USqQHboJA0gmGbw9IeOlpPwOpSaPn7bslJSwHJUgOG8SFD79wC"], ["created_at", "2020-07-31 14:18:51.750749"], ["updated_at", "2020-07-31 14:18:51.750749"], ["name", "test"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$18FJIPkUOrSzxRMgUbL2HeO4aghU9WHMI95rEy9oFl7i/PRFmVQO6"], ["created_at", "2020-07-31 14:18:51.793816"], ["updated_at", "2020-07-31 14:18:51.793816"], ["name", "tester"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."post_id" IS NULL LIMIT $2[0m  [["user_id", 24], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$KjfcTQiz8uN0TFk.vTpwJOyMHJ9X5.vHeArQKE4HGyFDE6REAcylG"], ["created_at", "2020-07-31 14:18:51.819116"], ["updated_at", "2020-07-31 14:18:51.819116"], ["name", "tester"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@tester.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@tester.com"], ["encrypted_password", "$2a$04$sHj6sbxT5taA/2r5Yp60/e.bzWXJqBkCKxMVgcE5nQ9U8rtjOhLsi"], ["created_at", "2020-07-31 14:18:51.836962"], ["updated_at", "2020-07-31 14:18:51.836962"], ["name", "tester"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLike Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."post_id" IS NULL LIMIT $2[0m  [["user_id", 26], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."post_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$cpcn7WqPpyZtGGjOfZR3BupwapZgkPZP2wajLmbCguydq6kKFo8da"], ["created_at", "2020-07-31 14:18:51.875161"], ["updated_at", "2020-07-31 14:18:51.875161"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@email.com"], ["encrypted_password", "$2a$04$5M2s6tTqM5zy8ERH21.U8.YHurHk7syv6vyzfGZL8XR8Vw28hq3ne"], ["created_at", "2020-07-31 14:18:51.886739"], ["updated_at", "2020-07-31 14:18:51.886739"], ["name", "test"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (29.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (14.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$6QfHDsjoWxHtrbJgHvdsA.Yveru9unTJDpL6q16KSgykwlh5r0KD."], ["created_at", "2020-07-31 16:10:28.495244"], ["updated_at", "2020-07-31 16:10:28.495244"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$8AzE0CHffArRXYRnjzZCxOrNgoX0LziphQe6hPmo5juip0EqfC6eK"], ["created_at", "2020-07-31 16:10:28.500358"], ["updated_at", "2020-07-31 16:10:28.500358"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:28 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 602)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 19.7ms | Allocations: 5729)
Completed 200 OK in 421ms (Views: 413.2ms | ActiveRecord: 0.0ms | Allocations: 41808)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms | Allocations: 2010)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:28 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (20.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (22.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 739)
Completed 200 OK in 90ms (Views: 5.0ms | ActiveRecord: 47.5ms | Allocations: 12903)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 5632)
Completed 200 OK in 21ms (Views: 14.9ms | ActiveRecord: 3.5ms | Allocations: 8057)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (27.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:10:29.104718"], ["updated_at", "2020-07-31 16:10:29.104718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 45ms (ActiveRecord: 30.7ms | Allocations: 5047)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2067)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 1.8ms | Allocations: 4550)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$3//fzC2csxZ1JV8l81QdJ.CvVFhoTrHYNvM0xkAByjToUpAAzQ06a"], ["created_at", "2020-07-31 16:10:29.378811"], ["updated_at", "2020-07-31 16:10:29.378811"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$HmvClSXuVRIP0J3jx5gqs.4cbqOIRquelrP4VHss7Dkcnb1xRCLaS"], ["created_at", "2020-07-31 16:10:29.382802"], ["updated_at", "2020-07-31 16:10:29.382802"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 967)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms | Allocations: 2635)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (3.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 389)
Completed 200 OK in 26ms (Views: 8.0ms | ActiveRecord: 6.8ms | Allocations: 3284)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (8.8ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 5340)
Completed 200 OK in 39ms (Views: 22.0ms | ActiveRecord: 14.4ms | Allocations: 7226)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1589)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 2.0ms | Allocations: 3778)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$/2eKX5aPNTM85ZKp6RsxCO3Z3Sm5PlJuDAof4N1PXCUmdmtSLaFzi"], ["created_at", "2020-07-31 16:10:29.501809"], ["updated_at", "2020-07-31 16:10:29.501809"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$s2QWLRObhPOhraoBZ8LEae4.oiL8Dm0AciGrRhwbzHY7o.1Rc3626"], ["created_at", "2020-07-31 16:10:29.517177"], ["updated_at", "2020-07-31 16:10:29.517177"], ["name", "Jane"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 959)
Completed 200 OK in 24ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 2619)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 885)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 381)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 1.2ms | Allocations: 3275)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 24.7ms | Allocations: 5335)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 6.5ms | Allocations: 7228)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:10:29.613188"], ["updated_at", "2020-07-31 16:10:29.613188"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 8ms (ActiveRecord: 2.3ms | Allocations: 1462)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 1589)
Completed 200 OK in 21ms (Views: 13.2ms | ActiveRecord: 3.0ms | Allocations: 3818)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 6022)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 3.3ms | Allocations: 7914)
Started GET "/friendships/destroy?friendship_id=2" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"2"}
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.8ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 6ms (ActiveRecord: 1.8ms | Allocations: 1208)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1589)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 2.0ms | Allocations: 3816)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$tK16SmISOJkHhF/5oO4OPOLhOK2BajaqtSl9h79UsX4xWMK1w8xwu"], ["created_at", "2020-07-31 16:10:29.695022"], ["updated_at", "2020-07-31 16:10:29.695022"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$XNq.QnwZDzhhmQm7X8gsq.cg9YDZKWlwXSvvxHblDyEuAH2u10IYu"], ["created_at", "2020-07-31 16:10:29.698966"], ["updated_at", "2020-07-31 16:10:29.698966"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:10:29.701836"], ["updated_at", "2020-07-31 16:10:29.701836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 959)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms | Allocations: 2611)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 381)
Completed 200 OK in 17ms (Views: 5.5ms | ActiveRecord: 3.0ms | Allocations: 3268)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1835)
Completed 200 OK in 20ms (Views: 9.7ms | ActiveRecord: 4.2ms | Allocations: 4021)
Started GET "/friendships/update?friendship_id=3" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"3"}
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.4ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:10:29.783408"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:10:29.786793"], ["updated_at", "2020-07-31 16:10:29.786793"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 11ms (ActiveRecord: 2.7ms | Allocations: 2519)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1599)
Completed 200 OK in 25ms (Views: 18.1ms | ActiveRecord: 3.1ms | Allocations: 3833)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$eVTDvk4f1H7XUNMsbbHcf.0tM7IesyWtevzNhN7PKoldK2lzwiKc."], ["created_at", "2020-07-31 16:10:29.831911"], ["updated_at", "2020-07-31 16:10:29.831911"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$RT3oajeXcgR1aeSJ2MSCXub2u58DQ50gciYz3wqGn6OskP6nIQ5WK"], ["created_at", "2020-07-31 16:10:29.838513"], ["updated_at", "2020-07-31 16:10:29.838513"], ["name", "Jane"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (1.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:10:29.846533"], ["updated_at", "2020-07-31 16:10:29.846533"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 959)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 2615)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 381)
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 1.1ms | Allocations: 3264)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1835)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.7ms | Allocations: 4025)
Started GET "/friendships/update?friendship_id=5" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"5"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:10:29.910084"], ["id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (1.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:10:29.915663"], ["updated_at", "2020-07-31 16:10:29.915663"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 14ms (ActiveRecord: 4.6ms | Allocations: 2473)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 23.1ms | Allocations: 1598)
Completed 200 OK in 41ms (Views: 24.7ms | ActiveRecord: 6.9ms | Allocations: 3833)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$aFf.W7h0tHvHzXRMU6rbtOfmOoRbzcx4lMO7fI3cyz6BOqlwqEgDu"], ["created_at", "2020-07-31 16:10:29.974170"], ["updated_at", "2020-07-31 16:10:29.974170"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$GfKEfDN49.YFCaroswszpO2SOwxYb1CWcbpVbafVsrYnWJxaEm9ea"], ["created_at", "2020-07-31 16:10:29.979535"], ["updated_at", "2020-07-31 16:10:29.979535"], ["name", "Jane"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:10:29.984822"], ["updated_at", "2020-07-31 16:10:29.984822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 2620)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 886)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 381)
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 1.5ms | Allocations: 3267)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1835)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 2.4ms | Allocations: 4025)
Started GET "/friendships/update?friendship_id=7" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"7"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.4ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:10:30.056004"], ["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:10:30.059533"], ["updated_at", "2020-07-31 16:10:30.059533"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 12ms (ActiveRecord: 3.0ms | Allocations: 2475)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (2.0ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.2ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 31.3ms | Allocations: 1598)
Completed 200 OK in 43ms (Views: 33.0ms | ActiveRecord: 6.0ms | Allocations: 3829)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 1.4ms | Allocations: 1474)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 282)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 959)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 2766)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 959)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 2719)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 968)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 381)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 1.4ms | Allocations: 3279)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:10:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2127)
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 3.7ms | Allocations: 4317)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$KKxXyKDqAYJ7eUS9.jkF8OQ83xSCVyVT2lOskLNVF3GfIRXCyLp4a"], ["created_at", "2020-07-31 16:11:43.074471"], ["updated_at", "2020-07-31 16:11:43.074471"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$Vw3gcBscSgXaCQj1f0pB9OZb8BeOX9BR5fuYxwxux/ZWEYFZI.Cg2"], ["created_at", "2020-07-31 16:11:43.079220"], ["updated_at", "2020-07-31 16:11:43.079220"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 602)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 20.2ms | Allocations: 5729)
Completed 200 OK in 210ms (Views: 202.1ms | ActiveRecord: 0.0ms | Allocations: 23869)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 60ms (ActiveRecord: 44.8ms | Allocations: 2007)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 737)
Completed 200 OK in 56ms (Views: 4.5ms | ActiveRecord: 8.5ms | Allocations: 12870)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 5632)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 4.2ms | Allocations: 8059)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (2.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:11:43.567685"], ["updated_at", "2020-07-31 16:11:43.567685"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 34ms (ActiveRecord: 8.1ms | Allocations: 5047)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2067)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 1.7ms | Allocations: 4562)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$UrzN6G7nLkpl3J5GbOiXMe03NuhuzRgs/inPQWa.q.7E7saEXXoI2"], ["created_at", "2020-07-31 16:11:43.720318"], ["updated_at", "2020-07-31 16:11:43.720318"], ["name", "John"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$Tsnqxatd9ik9rYuTeKfsROfLaug2K23w39I1PjAazeDqNM88slVX2"], ["created_at", "2020-07-31 16:11:43.724829"], ["updated_at", "2020-07-31 16:11:43.724829"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 967)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms | Allocations: 2631)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 1.6ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 389)
Completed 200 OK in 12ms (Views: 2.7ms | ActiveRecord: 1.5ms | Allocations: 3288)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 5340)
Completed 200 OK in 27ms (Views: 22.9ms | ActiveRecord: 2.7ms | Allocations: 7228)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1589)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 1.8ms | Allocations: 3774)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$8HgBuVOo440j1OAlQ0uV9eruLw88YmD8yrFvSg736/j0aZCY14ixS"], ["created_at", "2020-07-31 16:11:43.852490"], ["updated_at", "2020-07-31 16:11:43.852490"], ["name", "John"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$WXDxR9OEW9EMaIlLtyYoNOigJ4xts3y0UiuoYjcBrBW6qk6Co5R76"], ["created_at", "2020-07-31 16:11:43.867781"], ["updated_at", "2020-07-31 16:11:43.867781"], ["name", "Jane"]]
  [1m[35m (4.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 959)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 2612)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 885)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 381)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 1.6ms | Allocations: 3266)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 5335)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 3.6ms | Allocations: 7216)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:11:43.966701"], ["updated_at", "2020-07-31 16:11:43.966701"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 6ms (ActiveRecord: 1.6ms | Allocations: 1444)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1589)
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 2.2ms | Allocations: 3806)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:11:43 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 6022)
Completed 200 OK in 24ms (Views: 18.6ms | ActiveRecord: 3.9ms | Allocations: 7915)
Started GET "/friendships/destroy?friendship_id=10" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"10"}
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 1217)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1589)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 1.4ms | Allocations: 3812)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$JMH5l649Kc6VlI7j9l1gfeoBhyb25Ad7zREddY/4GIMi/C.tAkesu"], ["created_at", "2020-07-31 16:11:44.037798"], ["updated_at", "2020-07-31 16:11:44.037798"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$scNxnLf3IWfuqrh1c/6XVejpuxLwRcfjfTktCHyi0Xjcp/l4up0CW"], ["created_at", "2020-07-31 16:11:44.043908"], ["updated_at", "2020-07-31 16:11:44.043908"], ["name", "Jane"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:11:44.064065"], ["updated_at", "2020-07-31 16:11:44.064065"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 2616)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.9ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 381)
Completed 200 OK in 15ms (Views: 7.8ms | ActiveRecord: 1.9ms | Allocations: 3264)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1835)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 2.1ms | Allocations: 4019)
Started GET "/friendships/update?friendship_id=11" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"11"}
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:11:44.164400"], ["id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:11:44.168491"], ["updated_at", "2020-07-31 16:11:44.168491"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 12ms (ActiveRecord: 3.1ms | Allocations: 2523)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (2.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 32.8ms | Allocations: 1599)
Completed 200 OK in 43ms (Views: 29.2ms | ActiveRecord: 7.4ms | Allocations: 3828)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$j95lMEXVNdBTI/kqFUCJf.WXx7lbVGs9W4qf9KuewsVIkOe79lDkO"], ["created_at", "2020-07-31 16:11:44.225678"], ["updated_at", "2020-07-31 16:11:44.225678"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$CpesF1C9a3YASYxIQo2Yo.vTYUbXmgLG1aJEB76CtMScKP6c13odG"], ["created_at", "2020-07-31 16:11:44.229541"], ["updated_at", "2020-07-31 16:11:44.229541"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.8ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:11:44.232690"], ["updated_at", "2020-07-31 16:11:44.232690"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 959)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 2612)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (2.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 381)
Completed 200 OK in 20ms (Views: 7.4ms | ActiveRecord: 3.3ms | Allocations: 3260)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 1835)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 2.0ms | Allocations: 4031)
Started GET "/friendships/update?friendship_id=13" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"13"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (1.1ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:11:44.339344"], ["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:11:44.347440"], ["updated_at", "2020-07-31 16:11:44.347440"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 21ms (ActiveRecord: 5.7ms | Allocations: 2488)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 24.2ms | Allocations: 1598)
Completed 200 OK in 39ms (Views: 23.9ms | ActiveRecord: 9.2ms | Allocations: 3822)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$QJg23v16ED.R2dOvgLCqOeVdLIxlzrbFQbPdswH87kkrIMhdFDtEK"], ["created_at", "2020-07-31 16:11:47.402080"], ["updated_at", "2020-07-31 16:11:47.402080"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$ad3NEFgiHzrGm1ddseQsl.RG.lyYp3dcmWnqOKwVTBX81vADw2N/i"], ["created_at", "2020-07-31 16:11:47.405986"], ["updated_at", "2020-07-31 16:11:47.405986"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.3ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:11:47.408731"], ["updated_at", "2020-07-31 16:11:47.408731"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2613)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 3.3ms | Allocations: 886)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 381)
Completed 200 OK in 21ms (Views: 3.3ms | ActiveRecord: 2.3ms | Allocations: 3264)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (1.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 19.2ms | Allocations: 1835)
Completed 200 OK in 32ms (Views: 18.6ms | ActiveRecord: 6.6ms | Allocations: 4023)
Started GET "/friendships/update?friendship_id=15" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"15"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (12.3ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:11:47.531718"], ["id", 15]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (1.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:11:47.568951"], ["updated_at", "2020-07-31 16:11:47.568951"]]
  [1m[35m (6.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 75ms (ActiveRecord: 46.7ms | Allocations: 2473)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 21.9ms | Allocations: 1598)
Completed 200 OK in 33ms (Views: 15.5ms | ActiveRecord: 12.4ms | Allocations: 3831)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1476)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 288)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 959)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.0ms | Allocations: 2754)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 2724)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 970)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 381)
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 1.7ms | Allocations: 3281)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:11:47 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (4.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (2.8ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 32.0ms | Allocations: 2127)
Completed 200 OK in 38ms (Views: 25.4ms | ActiveRecord: 9.8ms | Allocations: 4330)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$vP0RFQaY8JVTof1KEkbTIeuHH64adVQHsBJStIffadQFDLws768Hq"], ["created_at", "2020-07-31 16:12:50.007168"], ["updated_at", "2020-07-31 16:12:50.007168"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$2iKFNd4/EiaOVkBrXy88UOqqpYEBRG1d3bEXnqMCVZVb8tLObFuUG"], ["created_at", "2020-07-31 16:12:50.011871"], ["updated_at", "2020-07-31 16:12:50.011871"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 602)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 19.2ms | Allocations: 5729)
Completed 200 OK in 197ms (Views: 188.4ms | ActiveRecord: 0.0ms | Allocations: 24654)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 92ms (ActiveRecord: 41.4ms | Allocations: 2007)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 737)
Completed 200 OK in 54ms (Views: 5.1ms | ActiveRecord: 7.9ms | Allocations: 12864)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5632)
Completed 200 OK in 22ms (Views: 15.6ms | ActiveRecord: 3.8ms | Allocations: 8045)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.7ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:12:50.502998"], ["updated_at", "2020-07-31 16:12:50.502998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 18ms (ActiveRecord: 3.6ms | Allocations: 5041)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2067)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 2.1ms | Allocations: 4566)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$ZQpaDlr5Zq/zhxfsqRqezuUDByJlWbgFJ6TO0iPu4gj1g9tU3cMk."], ["created_at", "2020-07-31 16:12:50.595693"], ["updated_at", "2020-07-31 16:12:50.595693"], ["name", "John"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$H1SHVXhDdsWMSgBPtICEV.Puhh0ic0DI8CZUVYhnCkdOggymdv3R2"], ["created_at", "2020-07-31 16:12:50.600283"], ["updated_at", "2020-07-31 16:12:50.600283"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 967)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 2631)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.4ms | Allocations: 888)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 389)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 1.4ms | Allocations: 3294)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.9ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 5340)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 6.0ms | Allocations: 7226)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1589)
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 2.1ms | Allocations: 3784)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$wqVVKdjcqvbTJQcS9y00Guu.tVu9EQDLOtIxg/4.dODNnR6d5T22e"], ["created_at", "2020-07-31 16:12:50.719589"], ["updated_at", "2020-07-31 16:12:50.719589"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$Oba/nyBw0RTFxH/MnzmyIe7FzOgA5R5W7f.xNTC6rC26dKtC7J8ny"], ["created_at", "2020-07-31 16:12:50.724278"], ["updated_at", "2020-07-31 16:12:50.724278"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2611)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 381)
Completed 200 OK in 13ms (Views: 4.2ms | ActiveRecord: 1.6ms | Allocations: 3264)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5335)
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 3.5ms | Allocations: 7224)
Started GET "/friendships/create?ids%5Bid1%5D=234&ids%5Bid2%5D=675" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by FriendshipsController#create as HTML
  Parameters: {"ids"=>{"id1"=>"234", "id2"=>"675"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:12:50.800590"], ["updated_at", "2020-07-31 16:12:50.800590"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 5ms (ActiveRecord: 1.3ms | Allocations: 1455)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1589)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 3.3ms | Allocations: 3812)
Started GET "/users" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (Duration: 22.8ms | Allocations: 6022)
Completed 200 OK in 27ms (Views: 20.5ms | ActiveRecord: 4.4ms | Allocations: 7912)
Started GET "/friendships/destroy?friendship_id=18" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by FriendshipsController#destroy as HTML
  Parameters: {"friendship_id"=>"18"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFriendship Destroy (0.2ms)[0m  [1m[31mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Redirected to http://www.example.com/users/234
Completed 302 Found in 5ms (ActiveRecord: 1.4ms | Allocations: 1219)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1589)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 1.6ms | Allocations: 3823)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$fUA09LXyDL7yPXZRW5Z.uOnx5ryU6f6gMq6G6UIm1uwecbt1GA31q"], ["created_at", "2020-07-31 16:12:50.880250"], ["updated_at", "2020-07-31 16:12:50.880250"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$M6xLTtIid0RVi1foI0gwyusOvWGtJakkaVJfmgtgl4IJRFikotUZu"], ["created_at", "2020-07-31 16:12:50.884659"], ["updated_at", "2020-07-31 16:12:50.884659"], ["name", "Jane"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:12:50.889340"], ["updated_at", "2020-07-31 16:12:50.889340"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 2611)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 884)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (2.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 381)
Completed 200 OK in 17ms (Views: 6.1ms | ActiveRecord: 3.5ms | Allocations: 3272)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1835)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.9ms | Allocations: 4037)
Started GET "/friendships/update?friendship_id=19" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"19"}
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (2.8ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:12:50.968925"], ["id", 19]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (1.1ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:12:50.980515"], ["updated_at", "2020-07-31 16:12:50.980515"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 29ms (ActiveRecord: 8.5ms | Allocations: 2525)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:50 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 1599)
Completed 200 OK in 27ms (Views: 21.0ms | ActiveRecord: 3.2ms | Allocations: 3827)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$xrwqU7KpBRj46zZZxlNYUuk9abo7G/qbCiZsdmvmCYAng5x0E1yOq"], ["created_at", "2020-07-31 16:12:51.038041"], ["updated_at", "2020-07-31 16:12:51.038041"], ["name", "John"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$rnnfRuNMjbLygxfQQQ6XMOxbmIqt2uaplJx8meRilU0OgYM8G/mFy"], ["created_at", "2020-07-31 16:12:51.043325"], ["updated_at", "2020-07-31 16:12:51.043325"], ["name", "Jane"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:12:51.048736"], ["updated_at", "2020-07-31 16:12:51.048736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 959)
Completed 200 OK in 20ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 2619)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 888)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 381)
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 1.2ms | Allocations: 3280)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1835)
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 1.8ms | Allocations: 4019)
Started GET "/friendships/update?friendship_id=21" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"21"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.6ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:12:51.150913"], ["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.4ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:12:51.155484"], ["updated_at", "2020-07-31 16:12:51.155484"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 27ms (ActiveRecord: 6.2ms | Allocations: 2483)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:51 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1598)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 2.2ms | Allocations: 3823)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 234], ["email", "john@test.com"], ["encrypted_password", "$2a$04$KS5erKrzrL82MajwckDCtuhJaEUL3XY/JQzRgHtLT3fquCzVwBbeS"], ["created_at", "2020-07-31 16:12:54.245872"], ["updated_at", "2020-07-31 16:12:54.245872"], ["name", "John"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["id", 675], ["email", "jane@test.com"], ["encrypted_password", "$2a$04$.VWcsqRjjPOlrkG/13qoXO4jSQmYyLMJBN50UdMszgKwmVpM5Qufe"], ["created_at", "2020-07-31 16:12:54.258491"], ["updated_at", "2020-07-31 16:12:54.258491"], ["name", "Jane"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Create (3.5ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 234], ["friend_id", 675], ["created_at", "2020-07-31 16:12:54.270275"], ["updated_at", "2020-07-31 16:12:54.270275"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 133)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 983)
Completed 200 OK in 20ms (Views: 15.1ms | ActiveRecord: 0.0ms | Allocations: 2652)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"jane@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "jane@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 902)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675]]
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 675], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 381)
Completed 200 OK in 10ms (Views: 3.7ms | ActiveRecord: 1.5ms | Allocations: 3277)
Started GET "/users/675" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"675"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.2ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 675]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1836)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 1.7ms | Allocations: 4029)
Started GET "/friendships/update?friendship_id=23" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by FriendshipsController#update as HTML
  Parameters: {"friendship_id"=>"23"}
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mFriendship Update (0.5ms)[0m  [1m[33mUPDATE "friendships" SET "confirmed" = $1, "updated_at" = $2 WHERE "friendships"."id" = $3[0m  [["confirmed", true], ["updated_at", "2020-07-31 16:12:54.365129"], ["id", 23]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Create (0.6ms)[0m  [1m[32mINSERT INTO "friendships" ("user_id", "friend_id", "confirmed", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["friend_id", 234], ["confirmed", true], ["created_at", "2020-07-31 16:12:54.371018"], ["updated_at", "2020-07-31 16:12:54.371018"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/234
Completed 302 Found in 15ms (ActiveRecord: 3.6ms | Allocations: 2488)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Load (0.6ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 675], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 675], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 675], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 1598)
Completed 200 OK in 22ms (Views: 13.7ms | ActiveRecord: 3.9ms | Allocations: 3836)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.4ms | Allocations: 1486)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by PostsController#index as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms | Allocations: 286)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 959)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 2757)
Started GET "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 959)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 2720)
Started POST "/users/sign_in" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "john@test.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 970)
Started GET "/" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by PostsController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1 ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234]]
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2) ORDER BY "posts"."created_at" DESC[0m  [["user_id", 234], ["confirmed", true]]
  Rendering posts/index.html.erb within layouts/application
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 381)
Completed 200 OK in 15ms (Views: 3.2ms | ActiveRecord: 5.1ms | Allocations: 3272)
Started GET "/users/234" for 127.0.0.1 at 2020-07-31 19:12:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."confirmed" = $2[0m  [["user_id", 234], ["confirmed", true]]
  [1m[36mFriendship Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3 LIMIT $4[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true], ["LIMIT", 1]]
  [1m[36mFriendship Load (0.4ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 AND "friendships"."confirmed" = $3[0m  [["user_id", 234], ["friend_id", 675], ["confirmed", true]]
  [1m[36mFriendship Load (0.3ms)[0m  [1m[34mSELECT "friendships".* FROM "friendships" WHERE "friendships"."friend_id" = $1 AND "friendships"."confirmed" = $2[0m  [["friend_id", 234], ["confirmed", false]]
  [1m[36mFriendship Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mCACHE Friendship Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "friendships" WHERE "friendships"."user_id" = $1 AND "friendships"."friend_id" = $2 LIMIT $3[0m  [["user_id", 234], ["friend_id", 234], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 234]]
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered users/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2127)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 3.5ms | Allocations: 4315)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
